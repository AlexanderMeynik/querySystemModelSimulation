[На основную страницу репозитория](..%2FREADME.md)

## Исходные данные к ВС
Источники:
ИБ - бесконечный; 

ИЗ2 -  равномерный закон распределения;

Приборы:
ПЗ1 — экспоненциальный закон распределения времени обслуживания;

Описание дисциплин постановки выбора:
Буферизации:  Д1ОЗ3 — на свободное место;

Дисциплина отказа: Д1ОО5 — вновь пришедшая;

Дисциплина постановки на обслуживание:

Д2П1 — приоритет по номеру прибора;(прямо)

Д2Б4 — приоритет по номеру источника, по одной заявке;(прямо)

Виды отображения результатов работы программной модели:

Динамическое отражение результатов: ОД1 — календарь событий, буфер и текущее состояние;

Отражение результатов после сбора статистики: ОР1 — сводная таблица результатов.

Формализованная схема системы:

![1.jpg](images%2F1.jpg)

Пример временной диаграммы обслуживания:

![3.jpg](images%2F3.jpg)

Блок схема алгоритма обработки заявки:

![2.jpg](images%2F2.jpg)

## Описание назначеняи классов
Разработка производилась в среде IntelliJ IDEA на языке Java с использованием фреймворка Java Fx.
В связи с использованием данного фреймворка корректнее будет разделит приложение на классы с необходимой логикой для моделирования и часть с классами для управления формами.
Часть с логикой для моделирования:
1. Request — содержит описание заявки. Реализует методы для получения этих описаний; 
2. Source — реализует методы создания заявки и генерации времени заявки; Реализует линейный закон генерации заявки: t_p+a+(b-a)*rand();
//rand() генерирует число он 0 до 1, t_p-предыдущее системное время;
3. Buffer — реализует метод постановки и удаления из буфера, а также получения всех необходимых данных; 
4. Device — реализует метод постановки и удаления из буфера, а также получения всех необходимых данных; 
Реализует экспоненциальный закон t_p+ln⁡(1-rand())/(-λ) .
5. Handler — реализует алгоритм постановки заявки из буфера на прибор(по приоритету источника);
6. Simulate — cодержит метод пошагового прохода, а также методы для передачи статистических данных в формы JavaFx, содержит метод add, который используется во всех классах элементов для сбора информации в календарь событий;

Часть с логикой JavaFx:
При помощи данного фреймворка были созданы 3 формы для ввода параметров и вывода необходимой информации, вывода календаря событий в 2-х режимах(автоматическом, пошаговом).
1. Main – является точкой входа в программу, вызывает контроллер первой формы 
2. Controller – контроллер для первой формы, который производит сбор необходимых входных данных, а также их проверку на правильность; 
3. EvCrFormController – контроллер формы календаря событий, открывается после нажатия пользователем кнопки начала моделирования, позволяет производить пошаговое моделирование, а также моделирование в автоматическом порядке, отображает таблицу с календарём событий состоянием системы и отображением содержимого буферов; 
4. ResultsFormController – Контроллер формы с результатами, открывается по нажатию кнопки открыть результаты на форме календаря событий, и отображает требуемые таблицы с результатами; 
5. Plotformcontroller – контроллер формы для рисования графиков, позволяет выбрать варьируемую переменную и начальный шаг; 
6. Классы контейнеры для вывода информации на таблицы;



## Описание работы с библиотеками
Для работы с графическими интерфейсами был установлен javafx [sdk](https://openjfx.io/openjfx-docs/).

Для создания графических интерфесов на базе fxml было установлено ПО [scene builder](https://gluonhq.com/products/scene-builder/#download).

Конфигурация для импорта модуля sdk:

![conf.png](images%2Fconf.png)

VM - options:
```bash
 --module-path "C:\JavaFx\openjfx-17.0.1_windows-x64_bin-sdk\javafx-sdk-17.0.1\lib" --add-modules=javafx.controls,javafx.fxml
```

Добавление установленного sdk в project structure:
![library.png](images%2Flibrary.png)

## Описание возможностей gui

Окно с конфигурацие повзоляет задавать число элментов системы, а также параметры для законов,
по которым работают генераторы и обработчики:

![firstPage.png](images%2FfirstPage.png)

В данном случае combo box позволяет выбрать пошаговый режим исполнения программы).


Послt запуска симуляции можно будет увидеть следующее окно:

![eventCalendar.png](images%2FeventCalendar.png)


При выборе пошагового режима пользователю будет доступна кнопка для произведния шага:

![eventCalStep.png](images%2FeventCalStep.png)

Во торой вкладке данного окнабудет отображаться состояние системы на момент текущего шага:

![eventCalStepData.png](images%2FeventCalStepData.png)

После провдеения моделирования будет выведено окно со статистикой:

![simulationResults.png](images%2FsimulationResults.png)

